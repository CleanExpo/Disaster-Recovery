/* Enhanced Storm Animation System */

/* Thunder and Lightning Effects */
.thunder-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 2;
  opacity: 0;
  background: radial-gradient(ellipse at center, rgba(255, 255, 255, 0.8) 0%, transparent 70%);
  animation: thunderFlash 20s ease-in-out infinite;
}

@keyframes thunderFlash {
  0%, 100% { opacity: 0; }
  10% { opacity: 0; }
  10.5% { opacity: 0.9; }
  11% { opacity: 0; }
  11.2% { opacity: 0.7; }
  11.5% { opacity: 0; }
  40% { opacity: 0; }
  40.5% { opacity: 0.6; }
  41% { opacity: 0; }
  70% { opacity: 0; }
  70.2% { opacity: 0.8; }
  70.5% { opacity: 0; }
  71% { opacity: 0.5; }
  71.3% { opacity: 0; }
}

/* Realistic Rain Effects */
.rain-container {
  position: fixed;
  top: -100px;
  left: 0;
  width: 100%;
  height: calc(100% + 100px);
  pointer-events: none;
  z-index: 3;
  overflow: hidden;
}

.rain-drop {
  position: absolute;
  width: 2px;
  height: 100px;
  background: linear-gradient(to bottom, 
    transparent 0%, 
    rgba(174, 194, 224, 0.6) 50%, 
    transparent 100%
  );
  animation: rainfall 1s linear infinite;
}

@keyframes rainfall {
  0% {
    transform: translateY(-100px);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    transform: translateY(calc(100vh + 100px));
    opacity: 0;
  }
}

/* Heavy Rain Variant */
.heavy-rain {
  background: repeating-linear-gradient(
    90deg,
    transparent,
    transparent 2px,
    rgba(174, 194, 224, 0.1) 2px,
    rgba(174, 194, 224, 0.1) 3px
  );
  animation: heavyRainfall 0.3s linear infinite;
}

@keyframes heavyRainfall {
  0% { transform: translate(0, -100%); }
  100% { transform: translate(0, 100%); }
}

/* Wind Effect */
.wind-effect {
  position: fixed;
  top: 0;
  left: -100%;
  width: 200%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.03) 45%,
    rgba(255, 255, 255, 0.05) 50%,
    rgba(255, 255, 255, 0.03) 55%,
    transparent 100%
  );
  animation: windGust 15s ease-in-out infinite;
}

@keyframes windGust {
  0%, 100% { transform: translateX(0) skewX(0deg); }
  25% { transform: translateX(30%) skewX(-5deg); }
  50% { transform: translateX(-20%) skewX(3deg); }
  75% { transform: translateX(40%) skewX(-3deg); }
}

/* Debris and Particles */
.debris-particle {
  position: absolute;
  width: 4px;
  height: 4px;
  background: rgba(92, 92, 92, 0.8);
  border-radius: 2px;
  animation: debrisFloat 10s ease-in-out infinite;
}

@keyframes debrisFloat {
  0% {
    transform: translate(0, 100vh) rotate(0deg);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    transform: translate(200vw, -100vh) rotate(720deg);
    opacity: 0;
  }
}

/* Fog and Mist Layer */
.fog-layer {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 40%;
  pointer-events: none;
  background: linear-gradient(
    to top,
    rgba(220, 220, 220, 0.4) 0%,
    rgba(220, 220, 220, 0.2) 30%,
    transparent 100%
  );
  animation: fogDrift 30s ease-in-out infinite;
  opacity: 0.6;
}

@keyframes fogDrift {
  0%, 100% { transform: translateX(0) scaleY(1); }
  33% { transform: translateX(-5%) scaleY(1.1); }
  66% { transform: translateX(5%) scaleY(0.9); }
}

/* Lightning Bolt Strikes */
.lightning-bolt {
  position: fixed;
  top: 0;
  left: 50%;
  width: 2px;
  height: 100vh;
  background: linear-gradient(
    to bottom,
    transparent 0%,
    rgba(255, 255, 255, 0.9) 20%,
    rgba(147, 197, 253, 0.9) 50%,
    rgba(255, 255, 255, 0.9) 80%,
    transparent 100%
  );
  filter: blur(1px);
  opacity: 0;
  transform: translateX(-50%) scaleX(1);
  animation: lightningStrike 12s ease-in-out infinite;
}

@keyframes lightningStrike {
  0%, 100% { 
    opacity: 0; 
    transform: translateX(-50%) scaleX(1);
  }
  30% { opacity: 0; }
  30.5% { 
    opacity: 1; 
    transform: translateX(-50%) scaleX(2);
  }
  31% { 
    opacity: 0; 
    transform: translateX(-50%) scaleX(1);
  }
  60% { opacity: 0; }
  60.5% { 
    opacity: 0.8; 
    transform: translateX(calc(-50% + 100px)) scaleX(1.5) rotate(5deg);
  }
  61% { opacity: 0; }
}

/* Dark Storm Clouds Enhancement */
.storm-clouds-dark {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  background: 
    radial-gradient(ellipse at 20% 30%, rgba(31, 41, 55, 0.5) 0%, transparent 40%),
    radial-gradient(ellipse at 80% 40%, rgba(17, 24, 39, 0.4) 0%, transparent 40%),
    radial-gradient(ellipse at 50% 60%, rgba(55, 65, 81, 0.3) 0%, transparent 50%);
  animation: stormCloudsMorph 25s ease-in-out infinite;
}

@keyframes stormCloudsMorph {
  0%, 100% { 
    transform: scale(1) translateY(0);
    filter: contrast(1);
  }
  25% { 
    transform: scale(1.1) translateY(-2%);
    filter: contrast(1.2);
  }
  50% { 
    transform: scale(0.95) translateY(1%);
    filter: contrast(0.9);
  }
  75% { 
    transform: scale(1.05) translateY(-1%);
    filter: contrast(1.1);
  }
}

/* Tornado Funnel Effect */
.tornado-funnel {
  position: fixed;
  bottom: -10%;
  right: -100px;
  width: 200px;
  height: 120%;
  background: conic-gradient(
    from 0deg at 50% 50%,
    transparent 0deg,
    rgba(107, 114, 128, 0.2) 90deg,
    transparent 180deg,
    rgba(107, 114, 128, 0.2) 270deg,
    transparent 360deg
  );
  clip-path: polygon(40% 0%, 60% 0%, 100% 100%, 0% 100%);
  animation: tornadoSpin 60s linear infinite;
  opacity: 0;
  transform-origin: center bottom;
}

@keyframes tornadoSpin {
  0% { 
    transform: translateX(0) rotate(0deg);
    opacity: 0;
  }
  10% {
    opacity: 0.3;
  }
  50% {
    transform: translateX(-50vw) rotate(720deg);
    opacity: 0.5;
  }
  90% {
    opacity: 0.3;
  }
  100% { 
    transform: translateX(-100vw) rotate(1440deg);
    opacity: 0;
  }
}

/* Rainbow After Storm */
.rainbow-arc {
  position: fixed;
  top: 20%;
  left: -10%;
  width: 120%;
  height: 60%;
  pointer-events: none;
  background: conic-gradient(
    from 180deg at 50% 100%,
    transparent 0deg,
    rgba(255, 0, 0, 0.1) 30deg,
    rgba(255, 127, 0, 0.1) 60deg,
    rgba(255, 255, 0, 0.1) 90deg,
    rgba(0, 255, 0, 0.1) 120deg,
    rgba(0, 0, 255, 0.1) 150deg,
    rgba(139, 0, 255, 0.1) 180deg,
    transparent 180deg
  );
  border-radius: 50%;
  opacity: 0;
  animation: rainbowAppear 120s ease-in-out infinite;
}

@keyframes rainbowAppear {
  0%, 70%, 100% { opacity: 0; }
  80% { opacity: 0; }
  85% { opacity: 0.6; }
  95% { opacity: 0.3; }
}

/* Storm Intensity Classes */
.storm-minimal {
  filter: brightness(1.1) saturate(0.8);
}

.storm-building {
  filter: brightness(0.95) saturate(1) contrast(1.1);
}

.storm-severe {
  filter: brightness(0.7) saturate(1.2) contrast(1.3);
}

.storm-extreme {
  filter: brightness(0.5) saturate(1.5) contrast(1.5) hue-rotate(-10deg);
}

/* Performance Optimizations */
@media (prefers-reduced-motion: reduce) {
  .thunder-overlay,
  .rain-drop,
  .wind-effect,
  .debris-particle,
  .fog-layer,
  .lightning-bolt,
  .storm-clouds-dark,
  .tornado-funnel,
  .rainbow-arc {
    animation: none !important;
  }
}

/* Mobile Optimizations */
@media (max-width: 768px) {
  .rain-drop {
    width: 1px;
    height: 60px;
  }
  
  .debris-particle {
    display: none;
  }
  
  .tornado-funnel {
    display: none;
  }
}